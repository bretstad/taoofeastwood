// TOC Link List
// =======

.link-list {
  display: flex;
  flex-direction: column;
  list-style-type: none;
  line-height: 1.5;
  margin-bottom: size('gutter');
}

.link-list-intro {
  display: block;
}

.link-list-item {
  @include font-family('open');
  display: block;
  font-size: size('xsmall');
  padding: size('half-shim') size('shim') size('half-shim') size('gutter');
  position: relative;

  // make sure TOC menu lines up with title
  .toc-archive & {
    margin-left: negative('gutter');
  }

  &:visited {
    color: color('text-light');
  }

  #{$focus} {
    background-color: color('active');
    color: color('action');

    .toc-archive & {
      background-color: transparent;
    }
  }
}

// Map nav locations for highlighting active page
$nav-locations: (
  'Wu Wei',
  'Non-being',
  'No Name',
  'Laissez-faire',
  'Compatible Opposites',
  'Profit and Thieves',
  'The Common Good',
  'See the World as Yourself',
  'Know Your Limitations',
  'A Time for Everything',
  'Approval and Pride',
  'The Straight Pat',
  'The Way It Is',
  'To Laugh or Not To Laugh',
  'Simply Be Yourself',
  'A Good Manâ€™s Job',
  'The Uncarved Block',
  'Master Yourself',
  'Know How to Yield',
  'Failure and Opportunity',
  'non-Tao',
  'Forgiveness',
  'Good and Evil',
  'Not Knowing',
  'All Things Change',
  'Nothing Left Undone',
  'Passing Judgement',
  'The Soft Dissolves the Hard',
  'Peace and Violence'
);

// Highlight active page
@each $location in $nav-locations {
  [data-location='#{$location}'] {
    [data-active='#{$location}'] {
      a {
        font-weight: bold;

        @include before('-') {
          @include position(null null -100% 0);
          @include font-family('script');
          font-size: 80px;
          position: absolute;
          transform: rotate(90deg);
        }
      }

      a:link {
        color: color('action-hover');
      }

      a:visited {
        color: color('text-light');
      }

      #{$focus} {
        background-color: color('active');
        color: color('action-hover');
      }
    }
  }
}
