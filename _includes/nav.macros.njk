{%- import 'utility.macros.njk' as utility -%}


{#
  Link Lists (TOC)
  ----------------
#}
{% macro list(
  items,
  class
) %}

  {% if (items|length > 0) %}
    <ol class="link-list">
      {% for item in items %}
        <li class="link-list-item">
          {{ utility.link_if(item.data.title, item.url, item.class) }}
        </li>
      {% endfor %}
    </ol>
  {% endif %}
{% endmacro %}


{#
  Previous & Next Chaptter
  ------------------------
#}
{% macro prev_next(
  all_chapters,
  chapter
) %}
  {% set next_chapter = chapter + 1 %}
  {% set next = all_chapters[next_chapter - 1] if (all_chapters|length >= next_chapter) else none %}
  {% set prev_chapter = chapter - 1 %}
  {% set prev = all_chapters[prev_chapter - 1] if (prev_chapter > 0) else none %}

  <nav class="paging">
    {% if prev %}
      {{ utility.paging_link_if(prev.data.chapter, prev.data.title, prev.url) }}
    {% endif %}
    {% if next %}
      {{ utility.paging_link_if(next.data.chapter, next.data.title, next.url) }}
    {% endif %}
  </nav>
{% endmacro %}
