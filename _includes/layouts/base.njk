{%- import 'utility.macros.njk' as utility -%}
<!doctype html>
<html lang="en"
	data-theme="{{ theme or 'light' }}">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport"
      content="width=device-width, initial-scale=1.0" />

    <title>{{ renderData.title or title or site.title }}</title>
    <meta name="description"
      content="{{ site.description or page.description }}" />

    {% include 'site/og.njk' %}

		{% for url in site.styles %}
			<link rel="stylesheet"
				href="/assets/css/{{ url }}" />
		{% endfor %}
	</head>

	<body data-layout="grid">
		<header data-layout="header">
			<h1>{{ site.title }}</h1>
			{% if title %}
				<h2 class="chapter-title">Chapter {{ chapter }}: {{ title }}</h2>
			{% endif %}
		</header>
		{% block body %}
		<main data-layout="main"
			{{ utility.attr_if('class', templateClass) }}>

			{% if quote %}
				<blockquote data-quote="quote">
					<p>{{ quote }}</p>
					<footer>
						{% if author %}
							<strong>{{ author }}</strong>
						{% endif %}
  					{% if credential %}
							<span>{{ credential }}</span>
						{% endif %}
					</footer>
				</blockquote>
			{% endif %}

			{% if verse %}
				<blockquote data-quote="verse">
					<p>{{ verse | escape | nl2br }}</p>
					<footer class="tao-verse-number">from verse {{ number }}</footer>
				</blockquote>
			{% endif %}

			{{ content | safe }}
		</main>
		{% endblock %}

		<footer data-layout="footer">
			Â© {% getDate 'year' %}
			<a href="mailto:{{ site.email }}">
				{{ site.author }}
			</a>
			| <a href="/design/">Design System</a>
		</footer>

		<!-- Current page: {{ page.url | url }} -->
	</body>
</html>
